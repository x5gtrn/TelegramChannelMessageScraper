# .gitignore Guide

This document explains what the `.gitignore` file does and why each section is important.

## What is .gitignore?

`.gitignore` tells Git which files and directories to ignore when committing code to a repository. This is crucial for:
- **Security**: Preventing sensitive data from being committed
- **Cleanliness**: Keeping the repository free of temporary/generated files
- **Performance**: Reducing repository size

## File Sections Explained

### 1. SENSITIVE FILES ⚠️ CRITICAL

```gitignore
.env
*.session
config.yaml
```

**Why these are ignored:**
- `.env` - Contains API credentials (api_id, api_hash, phone number)
- `*.session` - Contains authentication tokens for Telegram
- `config.yaml` - May contain sensitive configuration

**What happens if committed:**
- ❌ Your API credentials become public
- ❌ Anyone can access your Telegram account
- ❌ Potential security breach

### 2. PROJECT OUTPUT FILES

```gitignore
*.csv
progress.json
downloaded_media/
```

**Why these are ignored:**
- These are generated files that change frequently
- Can be regenerated by running the program
- May contain private channel data
- Large files that bloat the repository

### 3. PYTHON FILES

```gitignore
__pycache__/
*.pyc
*.egg-info/
```

**Why these are ignored:**
- Compiled Python bytecode (automatically generated)
- Build artifacts
- Distribution files
- These are platform/version-specific and should be regenerated

### 4. VIRTUAL ENVIRONMENTS

```gitignore
venv/
env/
.venv
```

**Why these are ignored:**
- Virtual environments are local to each developer
- Can be recreated from `requirements.txt`
- Contains many files (~1000+) and takes up significant space
- Platform-specific binaries

### 5. IDE FILES

```gitignore
.vscode/
.idea/
*.swp
```

**Why these are ignored:**
- Editor-specific configuration files
- Each developer may use different editors
- Committing these causes conflicts between team members
- Contains personal preferences and settings

### 6. OPERATING SYSTEM FILES

```gitignore
.DS_Store     # macOS
Thumbs.db     # Windows
.directory    # Linux
```

**Why these are ignored:**
- Created automatically by operating systems
- No value to the project
- Causes unnecessary diff noise
- Platform-specific and irrelevant to code

### 7. TEMPORARY FILES

```gitignore
*.tmp
*.log
cache/
```

**Why these are ignored:**
- Temporary files created during execution
- Log files that change frequently
- Cache files that can be regenerated
- No need to track changes

## Important Files NOT Ignored

These files ARE committed to the repository:

```
✓ .env.example          # Template (safe, no real credentials)
✓ .gitignore           # This file itself
✓ README.md            # Documentation
✓ requirements.txt     # Dependencies list
✓ main.py              # Source code
✓ config.yaml.example  # Template (if created)
```

## Security Best Practices

### DO ✅
- Keep `.gitignore` in your repository
- Review it regularly
- Add new sensitive files as needed
- Use `.env.example` for templates
- Commit only source code and docs

### DON'T ❌
- Never commit `.env` or `*.session` files
- Don't ignore `requirements.txt`
- Don't commit API keys or passwords
- Don't ignore the `.gitignore` file itself
- Don't commit large binary files

## Testing Your .gitignore

### Check what would be committed:
```bash
git status
```

### Check if a specific file is ignored:
```bash
git check-ignore -v .env
# Output: .gitignore:2:.env    .env
```

### See all ignored files:
```bash
git status --ignored
```

### Force add an ignored file (NOT recommended for sensitive files):
```bash
git add -f filename
```

## Common Scenarios

### Scenario 1: Accidentally Committed .env File

If you've already committed `.env`:

```bash
# Remove from Git but keep local file
git rm --cached .env

# Commit the removal
git commit -m "Remove .env from repository"

# Make sure .gitignore includes .env
echo ".env" >> .gitignore
git add .gitignore
git commit -m "Add .env to .gitignore"

# IMPORTANT: Change your API credentials!
# The old credentials are now in Git history
```

### Scenario 2: Want to Commit a Test CSV

If you have a test CSV you want to commit:

```bash
# Create an exception in .gitignore
echo "!test_sample.csv" >> .gitignore

# Now you can add it
git add test_sample.csv
```

### Scenario 3: Clean Up Ignored Files

Remove all ignored files from your working directory:

```bash
# BE CAREFUL - this deletes files!
# Make backups first
git clean -fdX
```

## Customizing .gitignore

### Add Project-Specific Rules

If your project needs additional ignore rules:

```bash
# Add at the end of .gitignore
echo "# Custom project files" >> .gitignore
echo "my_custom_output/" >> .gitignore
```

### Per-User Ignore Rules

For personal files you don't want to share:

Create `~/.gitignore_global`:
```bash
git config --global core.excludesfile ~/.gitignore_global
```

Add personal preferences there (e.g., your specific editor files).

## Pattern Syntax

### Common Patterns

```gitignore
# Exact filename
.env

# Any file with extension
*.log

# All files in directory
logs/

# Files in any subdirectory
**/temp

# Specific path
/root-only.txt

# Negate (don't ignore)
!important.log

# Character range
file[0-9].txt
```

### Advanced Patterns

```gitignore
# Ignore all .txt except README.txt
*.txt
!README.txt

# Ignore all files in any directory named temp
**/temp/**

# Ignore .log files but not error.log
*.log
!error.log
```

## Verification Checklist

Before pushing to Git, verify:

- [ ] `.env` is in `.gitignore`
- [ ] No `*.session` files will be committed
- [ ] `venv/` is ignored
- [ ] Check `git status` shows only intended files
- [ ] Test files are excluded
- [ ] Large output files are ignored

## Resources

- Git Documentation: https://git-scm.com/docs/gitignore
- GitHub's .gitignore templates: https://github.com/github/gitignore
- Check what's ignored: `git check-ignore -v <filename>`

## Quick Reference

| Pattern | Matches |
|---------|---------|
| `file.txt` | Exact file in any directory |
| `/file.txt` | Exact file in root only |
| `*.txt` | All .txt files |
| `dir/` | Entire directory |
| `**/dir` | Any directory named 'dir' |
| `!file.txt` | Exception - don't ignore |
| `file?.txt` | file1.txt, fileA.txt, etc. |
| `file[0-9].txt` | file0.txt through file9.txt |

## Troubleshooting

### File Still Being Tracked

If a file is in `.gitignore` but still tracked:

```bash
# File was added before .gitignore
# Remove from tracking:
git rm --cached filename
git commit -m "Stop tracking filename"
```

### .gitignore Not Working

```bash
# Clear Git cache and re-add files
git rm -r --cached .
git add .
git commit -m "Update ignored files"
```

### Want to See What's Ignored

```bash
# List all ignored files
git ls-files --others --ignored --exclude-standard
```

---

**Remember**: `.gitignore` is your first line of defense against accidentally committing sensitive data. Keep it updated and review it regularly!
